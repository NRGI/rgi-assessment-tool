div.left-padding-lg.right-padding-lg
    div.modal-header
        h3 New Document Reference
    div.modal-body
        .form-horizontal
            // NEW DOC
            fieldset
                div(ng-if="new_document.status!=='submitted'")
                    // TITLE
                    .row.form-group.top-padding-med
                        input.form-control(
                        name="title"
                        type="text"
                        placeholder="Title (required)..."
                        ng-model="new_document.title"
                        autocomplete="off")

                    // DOC TYPE
                    .row.form-group
                        select.form-control(
                        ng-model="new_document.type"
                        required)
                            option(value="" selected disabled) Select type (required)...
                            option(ng-repeat="type in new_doc_type" value="{{type.value}}") {{type.text}}
                    // AUTHOR
                    .row.form-group(ng-repeat="author in new_document.authors")
                        .pull-left.col-lg-5
                            input.form-control(
                            name="author_first"
                            type="text"
                            placeholder="Author first name..."
                            ng-model="author.first_name"
                            autocomplete="off")
                        .pull-left.col-lg-5
                            input.form-control(
                            name="author_last"
                            type="text"
                            placeholder="Author last name..."
                            ng-model="author.last_name"
                            autocomplete="off")
                        .pull-left.col-lg-1.right-padding-med(ng-if="$last")
                            glyphicon.text-success.glyphicon.glyphicon-plus-sign(ng-click="authorPush()")
                        .pull-left.col-lg-1(ng-if="!$last")
                            glyphicon.text-danger.glyphicon.glyphicon-minus-sign(ng-click="authorPop($index)")


                    // SOURCE
                    .row.form-group
                        .col-lg-12
                            input.form-control.right-padding-med(
                            name="source"
                            type="text"
                            placeholder="Source URL..."
                            ng-model="new_document.source"
                            autocomplete="off")

                    .row.form-group
                        // PUBLISHER
                        .pull-left.col-lg-6
                            input.form-control(
                            name="publisher"
                            type="text"
                            placeholder="Publisher..."
                            ng-model="new_document.publisher"
                            autocomplete="off")

                        // YEAR
                        .pull-left.col-lg-6
                            input.form-control(
                            name="year"
                            type="text"
                            placeholder="Year published (required)..."
                            ng-model="new_document.year"
                            autocomplete="off")

                    //.row.form-group
                    //    // INSTITUTION
                    //    .pull-left.col-lg-6
                    //        input.form-control(
                    //        name="institution"
                    //        type="text"
                    //        placeholder="Institution..."
                    //        ng-model="new_document.institution"
                    //        autocomplete="off")
                    //
                    //    // CITY
                    //    .pull-left.col-lg-6
                    //        input.form-control(
                    //        name="city"
                    //        type="text"
                    //        placeholder="City..."
                    //        ng-model="new_document.city"
                    //        autocomplete="off")





                // EXISTING DOC
                div(ng-if="new_document.status==='submitted'")
                    .row
                        // TITILE
                        div.col-md-6
                            .form-group.pull-left
                                h5
                                    b Title:
                                h5(ng-if="new_document.title")  {{new_document.title | ucfirst}}
                                h5(ng-if="!new_document.title")   N/A
                        // DOC TYPE
                        div.col-md-6
                            .form-group.pull-left
                                h5
                                    b Type:
                                h5(ng-if="new_document.type")  {{new_document.type| ucfirst}}
                                h5(ng-if="!new_document.type")  N/A
                    //- AUTHOR
                    .row
                        div.col-md-6
                            .form-group.pull-left
                                h5
                                    b Author(s):
                                h5(ng-repeat="author in new_document.authors" ng-if="new_document.authors")  {{author.first_name | ucfirst}} {{author.last_name| ucfirst}},
                                h5(ng-if="!new_document.authors")  N/A
                        // SOURCE
                        div.col-md-6
                            .form-group.pull-left
                                h5
                                    b Source:
                                h5(ng-if="new_document.source")  {{new_document.source}}
                                h5(ng-if="!new_document.source")  N/A

                    .row
                        // PUBLISHER
                        div.col-md-6
                            .form-group.pull-left
                                h5
                                    b Publisher:
                                h5(ng-if="new_document.publisher")  {{new_document.publisher}}
                                h5(ng-if="!new_document.publisher")  N/A
                        // YEAR
                        div.col-md-6
                            .form-group.pull-left
                                h5
                                    b Year:
                                h5(ng-if="new_document.year")  {{new_document.year}}
                                h5(ng-if="!new_document.year")  N/A

                        //// INSTITUTION
                        //div.col-md-6
                        //    .form-group.pull-left
                        //        h5
                        //            b Institution:
                        //        h5(ng-if="new_document.institution")  {{new_document.institution}}
                        //        h5(ng-if="!new_document.institution")  N/A

                    //
                    //.row
                    //    // CITY
                    //    div.col-md-6
                    //        .form-group.pull-left
                    //            h5
                    //                b City:
                    //            h5(ng-if="new_document.city")  {{new_document.city}}
                    //            h5(ng-if="!new_document.city")  N/A

                .row.form-group
                    // LOCATION IN DOC
                    .pull-left.col-lg-6
                        input.form-control(
                        name="location"
                        type="text"
                        placeholder="Page number(s) (required)..."
                        ng-model="new_ref_location"
                        autocomplete="off")

                    // DATE ACCESSED
                    .pull-left.col-lg-5.input-group
                        input.form-control(
                        type="text"
                        datepicker-popup="{{date_format}}"
                        placeholder="Date accessed..."
                        ng-model="ref_date_accessed"
                        is-open="status.opened"
                        max-date="date_max_limit"
                        datepicker-options="date_options"
                        close-text="Close")
                        span.input-group-btn
                            button.btn.btn-default(ng-click="calendarOpen($event)")
                                i.glyphicon.glyphicon-calendar

                //- COMMENT
                .row(id="comment").form-group
                    .col-lg-12
                        textarea.form-control(
                        name="comment"
                        type="text"
                        placeholder="Comments..."
                        ng-model="answer.new_ref_comment"
                        autocomplete="off")

        div.spinner(ng-if="disable_button")
            div.double-bounce1
            div.double-bounce2

    div.modal-footer
        .col-lg-6
            button.btn.btn-block.btn-success(
            ng-click="documentRefSubmit(new_document)"
            ng-disabled="disable_button") Create reference
        .col-lg-6
            button.btn.btn-block.btn-danger(ng-click="closeDialog()") Cancel