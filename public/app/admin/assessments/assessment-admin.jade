//- admin assessment assignment page
.container.top-padding-med
	.well
		legend Assessment Status Dashboard
		.pull-left
			.btn.btn-success(ng-click="newAssessmentDialog()", ng-disabled="true", tooltip="yes") New Assessment
		.pull-right
			form.form-inline
				.form-group
					input.form-control(ng-model="searchText", placeholder="Filter")
				.form-group.margin-left-med
					select.form-control(ng-model="sortOrder", ng-options="item.value as item.text for item in sortOptions")

		table.table.table-hover
			thead
				tr
					th Country
					th Researcher
					th Reviewer
					th Started
					th Last Edit
					th Status
					th.text-center Assign
			tbody
				tr(ng-repeat="assessment in assessments | filter: searchText | orderBy:sortOrder")
					td(ng-if="assessment.status=='unassigned'") {{assessment.country}}
					td(ng-if="assessment.status!='unassigned'")
						a(href="admin/assessments-admin/{{assessment.assessment_ID}}") {{assessment.country}}
					td 
						a(href="mailto:{{assessment.researcher.email}}") {{assessment.researcher.firstName}} {{assessment.researcher.lastName}} 
					td
						a(href="mailto:{{assessment.reviewer.email}}") {{assessment.reviewer.firstName}} {{assessment.reviewer.lastName}} 
					td {{assessment.start_date.started_date | date}}
					td(ng-if="assessment.edited_by")
						a(href="mailto:{{assessment.edited_by.email}}") {{assessment.edited_by.lastName}} 
						text - 
						span(ng-repeat="mod in assessment.modified")
							em(ng-show="$last") {{mod.modified_date | date}}
					td(ng-if="!assessment.edited_by")
					td {{assessment.status | capitalize}}
					td
						a.btn.center-block.btn-default(href="/admin/assessment-assign/{{assessment.assessment_ID}}", ng-if="assessment.status=='unassigned'") Assign
						a.btn.center-block.btn-default.disabled(href="", ng-if="assessment.status!='unassigned'") Assigned